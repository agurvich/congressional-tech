{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["file:///Users/agurvich/projects/civic-tech-dc/congressional-tech/app/src/lib/parse-csv.ts"],"sourcesContent":["export function parseCSV(text: string): Array<Record<string, string>> {\n    const rows: string[][] = [];\n    let field = \"\";\n    let row: string[] = [];\n    let inQuotes = false;\n\n    for (let i = 0; i < text.length; i++) {\n        const c = text[i];\n        if (inQuotes) {\n            if (c === '\"') {\n                if (text[i + 1] === '\"') {\n                    field += '\"';\n                    i++;\n                } else {\n                    inQuotes = false;\n                }\n            } else {\n                field += c;\n            }\n        } else {\n            if (c === '\"') {\n                inQuotes = true;\n            } else if (c === \",\") {\n                row.push(field);\n                field = \"\";\n            } else if (c === \"\\n\") {\n                row.push(field);\n                rows.push(row);\n                row = [];\n                field = \"\";\n            } else if (c === \"\\r\") {\n                // ignore\n            } else {\n                field += c;\n            }\n        }\n    }\n    if (field.length > 0 || row.length > 0) {\n        row.push(field);\n        rows.push(row);\n    }\n\n    const nonEmpty = rows.filter((r) => r.length && !(r.length === 1 && r[0].trim() === \"\"));\n    if (nonEmpty.length === 0) return [];\n\n    const header = nonEmpty[0];\n    return nonEmpty.slice(1).map((r) => {\n        const obj: Record<string, string> = {};\n        for (let j = 0; j < header.length; j++) {\n            obj[header[j]] = r[j] ?? \"\";\n        }\n        return obj;\n    });\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,SAAS,IAAY;IACjC,MAAM,OAAmB,EAAE;IAC3B,IAAI,QAAQ;IACZ,IAAI,MAAgB,EAAE;IACtB,IAAI,WAAW;IAEf,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;QAClC,MAAM,IAAI,IAAI,CAAC,EAAE;QACjB,IAAI,UAAU;YACV,IAAI,MAAM,KAAK;gBACX,IAAI,IAAI,CAAC,IAAI,EAAE,KAAK,KAAK;oBACrB,SAAS;oBACT;gBACJ,OAAO;oBACH,WAAW;gBACf;YACJ,OAAO;gBACH,SAAS;YACb;QACJ,OAAO;YACH,IAAI,MAAM,KAAK;gBACX,WAAW;YACf,OAAO,IAAI,MAAM,KAAK;gBAClB,IAAI,IAAI,CAAC;gBACT,QAAQ;YACZ,OAAO,IAAI,MAAM,MAAM;gBACnB,IAAI,IAAI,CAAC;gBACT,KAAK,IAAI,CAAC;gBACV,MAAM,EAAE;gBACR,QAAQ;YACZ,OAAO,IAAI,MAAM,MAAM;YACnB,SAAS;YACb,OAAO;gBACH,SAAS;YACb;QACJ;IACJ;IACA,IAAI,MAAM,MAAM,GAAG,KAAK,IAAI,MAAM,GAAG,GAAG;QACpC,IAAI,IAAI,CAAC;QACT,KAAK,IAAI,CAAC;IACd;IAEA,MAAM,WAAW,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,IAAI,CAAC,CAAC,EAAE,MAAM,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC,IAAI,OAAO,EAAE;IACtF,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO,EAAE;IAEpC,MAAM,SAAS,QAAQ,CAAC,EAAE;IAC1B,OAAO,SAAS,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;QAC1B,MAAM,MAA8B,CAAC;QACrC,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;YACpC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI;QAC7B;QACA,OAAO;IACX;AACJ","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/agurvich/projects/civic-tech-dc/congressional-tech/app/src/hooks/use-youtube-event-id-report.tsx"],"sourcesContent":["import { parseCSV } from \"@/lib/parse-csv\";\nimport { useQuery, UseQueryResult } from \"@tanstack/react-query\";\n\nexport type Chamber = \"house\" | \"senate\";\nexport type Control = \"Republican\" | \"Democratic\";\n\nexport interface YoutubeEventIdRow {\n    committee_name: string;\n    handle: string;\n    total_videos: number;\n    missing_event_id: number;\n    congress_number: number;\n    control: Control;\n    chamber: Chamber;\n}\n\nfunction parseRow(d: Record<string, string>): YoutubeEventIdRow {\n    return {\n        committee_name: d.committee_name,\n        handle: d.handle,\n        total_videos: Number(d.total_videos),\n        missing_event_id: Number(d.missing_event_id),\n        congress_number: Number(d.congress_number),\n        control: d.control as Control,\n        chamber: d.chamber as Chamber,\n    };\n}\n\nexport async function fetchYoutubeEventIdReport(): Promise<YoutubeEventIdRow[]> {\n    const res = await fetch(\"/public/data/youtube/youtube_event_id_report.csv\");\n    if (!res.ok) {\n        throw new Error(`Failed to fetch CSV: ${res.status} ${res.statusText}`);\n    }\n    const text = await res.text();\n    const rows = parseCSV(text);\n    return rows.map(parseRow);\n}\n\nexport function useYoutubeEventIdReport(): UseQueryResult<YoutubeEventIdRow[], Error> {\n    return useQuery<YoutubeEventIdRow[], Error>({\n        queryKey: [\"youtubeEventIdReport\"],\n        queryFn: fetchYoutubeEventIdReport,\n        staleTime: 5 * 60 * 1000,\n    });\n}\n\nexport default useYoutubeEventIdReport;\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAeA,SAAS,SAAS,CAAyB;IACvC,OAAO;QACH,gBAAgB,EAAE,cAAc;QAChC,QAAQ,EAAE,MAAM;QAChB,cAAc,OAAO,EAAE,YAAY;QACnC,kBAAkB,OAAO,EAAE,gBAAgB;QAC3C,iBAAiB,OAAO,EAAE,eAAe;QACzC,SAAS,EAAE,OAAO;QAClB,SAAS,EAAE,OAAO;IACtB;AACJ;AAEO,eAAe;IAClB,MAAM,MAAM,MAAM,MAAM;IACxB,IAAI,CAAC,IAAI,EAAE,EAAE;QACT,MAAM,IAAI,MAAM,CAAC,qBAAqB,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,IAAI,UAAU,EAAE;IAC1E;IACA,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,MAAM,OAAO,IAAA,sIAAQ,EAAC;IACtB,OAAO,KAAK,GAAG,CAAC;AACpB;AAEO,SAAS;IACZ,OAAO,IAAA,uLAAQ,EAA6B;QACxC,UAAU;YAAC;SAAuB;QAClC,SAAS;QACT,WAAW,IAAI,KAAK;IACxB;AACJ;uCAEe","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///Users/agurvich/projects/civic-tech-dc/congressional-tech/app/src/app/dashboard/page.tsx"],"sourcesContent":["import useYoutubeEventIdReport from \"@/hooks/use-youtube-event-id-report\";\n\nexport default function DashboardPage() {\n    const data = useYoutubeEventIdReport();\n    console.log(data);\n    return (\n        <main className=\"flex min-h-screen items-center justify-center bg-gray-50\">\n            <h1 className=\"text-3xl font-bold text-gray-900\">\n                This is a Congressional YouTube Dashboard\n            </h1>\n        </main>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACpB,MAAM,OAAO,IAAA,mKAAuB;IACpC,QAAQ,GAAG,CAAC;IACZ,qBACI,8OAAC;QAAK,WAAU;kBACZ,cAAA,8OAAC;YAAG,WAAU;sBAAmC;;;;;;;;;;;AAK7D","debugId":null}}]
}